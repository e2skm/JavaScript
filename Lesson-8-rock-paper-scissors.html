<!--Lessson 8 Objects: Rock Paper Scissors-->
<!DOCTYPE html>
<html>
  <head>
    <title>
      Rock, Paper, Scissors
    </title>
    <style>
      button{
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h3>
      Play a game of rock paper scissors against the computer
    </h3>
    <button title="Click to select Rock" onclick="
    playGame('Rock');">
      Rock
    </button>

    <button title="Click to select Paper" onclick="
    playGame('Paper');">
      Paper
    </button>

    <button title="Click to select Scissors" onclick="
    playGame('Scissors');">
      Scissors
    </button>

    <button title="Click to reset score" onclick=" 
    localStorage.removeItem('score');">
      Reset Score
    </button>
    
    <script>
      let score = JSON.parse(localStorage.getItem('score')) || {
        wins: 0,
        losses: 0,
        ties: 0
      };

      function generateComputerMove(){
        const randomNumber = Math.round(Math.random() *3);
        if(randomNumber === 1 ) return 'Rock';
        else if(randomNumber === 2 ) return 'Paper';
        else return 'Scissors';
      }
      function playGame(playerMove){
        const computerMove = generateComputerMove();
        let result = '';  

        if(playerMove === 'Rock'){
          if(computerMove === 'Rock') result = 'Tie';
          else if(computerMove === 'Paper') result = 'You lose';
          else result =  'You win';
        }else if(playerMove === 'Paper'){
          if(computerMove === 'Paper') result = 'Tie';
          else if(computerMove === 'Scissors') result = 'You lose';
          else result =  'You win';
        }else {
          if(computerMove === 'Scissors') result = 'Tie';
          else if(computerMove === 'Rock') result = 'You lose';
          else result =  'You win';
        }

        if(result === 'You win') score.wins ++;
        else if(result === 'You lose') score.losses ++;
        else score.ties ++;

        localStorage.setItem('score',JSON.stringify(score));

        alert(`You Choose: ${playerMove} \nComputer chooose: ${computerMove} \nResult: ${result} \nWins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties} `);
      }
      
      

    </script>
  </body>
</html>